function pad(e){return e<10?"0"+e:e}function formatDate(e){return pad(e.getUTCDate())+"/"+pad(e.getUTCMonth()+1)+"/"+e.getUTCFullYear()}function getDifference(e,a){var t=moment(e),l=moment(a);if(!0===t.isValid()&&!0===l.isValid()){var i=l.diff(t,"years"),s=l.diff(t,"months")-12*i;t.add(i,"years").add(s,"months");var r=l.diff(t,"days");return{y:i,m:s,d:r}}}$(document).ready(function(){$("#main-btn").click(function(){$("#result").hide();let e=$("#nickname").val(),a=$("#hidden_site").val();if(""==e||""==a)return $("#result").html("<p>Elegí tu país e ingresá tu usuario/apodo/nickname 🤔</p>"),$("#result").show(),$("#share2").html(""),$("#share2").hide(),$("#share").html(""),$("#share").hide(),!1;let t="https://api.mercadolibre.com/sites/"+a+"/search?nickname="+e.trim();$.getJSON(t,function(e){if(void 0===e.seller)$("#result").html("<p> No encontre el usuario/apodo/nickname 😢</p>"),$("#share").html(""),$("#share").hide(),$("#share2").html(""),$("#share2").hide(),$("#result").show();else{var a=getDifference(new Date(e.seller.registration_date),new Date);let t="<p>Te registraste el "+formatDate(new Date(e.seller.registration_date))+"</p>";t+="<p>Estas usando Mercado Libre hace ",a.y>0&&(t+=a.y+(a.y>1?" años, ":" año, ")),a.m>0&&(t+=a.m+(a.m>1?" meses":" mes")),(a.y>0||a.m>0)&&(t+=" y "),a.d>0&&(t+=a.d+(a.d>1?" días":" día")),t+="</p>",t+='<p class="divider"></p>';let l=new Date(e.seller.registration_date).getFullYear();t+='<p class="info">Así era el logo de MELI ese año 🚀 </p>',t+='<p><img src="img/'+l+'_logo-min.png" class="logo" ></p>',t+="<p></p>",t+='<p class="info">Y esta era la home del sitio en ese momento 👀 👀 </p>',t+='<p><a href="img/'+l+'_full-min.png" target="_blank"><img src="img/'+l+'_full-min.png" class="website" ></a></p>';let i="Yo uso @mercadolibre hace ";a.y>0&&(i+=a.y+(a.y>1?" años, ":" año, ")),a.m>0&&(i+=a.m+(a.m>1?" meses":" mes")),(a.y>0||a.m>0)&&(i+=" y "),a.d>0&&(i+=a.d+(a.d>1?" días":" día")),i+=" ¿Y vos? 👀 👀 Averigualo en 👇 ",$("#share2").html('<a class="twitter-share-button" href="https://twitter.com/intent/tweet" data-size="large"  data-url="https://chcibelli.github.io/meli-age/" data-text="'+i+'">Tweet</a>'),$("#share").html('<a class="twitter-share-button" href="https://twitter.com/intent/tweet" data-size="large"  data-url="https://chcibelli.github.io/meli-age/" data-text="'+i+'">Tweet</a>'),twttr.widgets.load(),$("#result").html(t),$("#result, #share").show()}})}),$("#nickname").on("keypress",function(e){13==e.which&&$("#main-btn").click()});var e=[{label:"Argentina 🇦🇷",value:"MLA"},{label:"Bolivia 🇧🇴",value:"MBO"},{label:"Brasil 🇧🇷",value:"MLB"},{label:"Chile 🇨🇱",value:"MLC"},{label:"Colombia 🇨🇴",value:"MCO"},{label:"Costa Rica 🇨🇷",value:"MCR"},{label:"Cuba 🇨🇺",value:"MCU"},{label:"Dominicana 🇩🇴",value:"MRD"},{label:"Ecuador 🇪🇨",value:"MEC"},{label:"Guatemala 🇬🇹",value:"MGT"},{label:"Honduras 🇭🇳",value:"MHN"},{label:"Mexico 🇲🇽",value:"MLM"},{label:"Nicaragua 🇳🇮",value:"MNI"},{label:"Panama 🇵🇦",value:"MPA"},{label:"Paraguay 🇵🇾",value:"MPY"},{label:"Perú 🇵🇪",value:"MPE"},{label:"Uruguay 🇺🇾",value:"MLU"},{label:"Venezuela 🇻🇪",value:"MLV"}];for(t=0;t<e.length;t++)$("#hidden_site").append(new Option(e[t].label,e[t].value))});